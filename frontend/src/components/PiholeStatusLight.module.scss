.light {
	display: inline-block;
	width: 10px;
	height: 10px;
	border-radius: 999px;
	background: var(--border-primary);
	position: relative;

	--pulse-scale: 1.7;
	--pulse-duration: 2.4s;
	--pulse-shadow: 3px;

	&.online {
		background: var(--accent-primary);
		box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-primary) 15%, transparent);
	}

	&.degraded {
		background: var(--accent-warn); // or a theme var like --accent-warn
		box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-warn) 15%, transparent);
		--pulse-duration: 1.6s;
	}

	&.offline {
		background: var(--accent-danger); // or --accent-danger
		box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-danger) 15%, transparent);
	}

	&.stale {
		background: var(--border-primary);
		box-shadow: none;
	}

	&.pulse {
		animation: breathe var(--pulse-duration) ease-in-out infinite;
	}
	/* Accessibility: respect reduced motion */
	@media (prefers-reduced-motion: reduce) {
		&.pulse {
			animation: none;
		}
	}
}

@keyframes breathe {
	0% {
		transform: scale(1);
		box-shadow: 0 0 0 var(--pulse-shadow) transparent;
	}
	50% {
		transform: scale(var(--pulse-scale));
		box-shadow: 0 0 0 calc(var(--pulse-shadow) * 2)
			color-mix(in srgb, currentColor 25%, transparent);
	}
	100% {
		transform: scale(1);
		box-shadow: 0 0 0 var(--pulse-shadow) transparent;
	}
}
